# 片儿使用帮助

片儿 是一个前端代码片段分享平台，支持但不限于 Weex 代码的在线编辑和演示。

片儿提供实时预览，保存，链接分享，样式编辑，收藏，标签搜索，本地编辑等功能，是您进行代码切磋，答疑解惑，教学练习，错误重现，模式沉淀，分享交流的好帮手。

## 基本用法

* 访问[首页](首页)，您可以看到别人分享的代码片段，并通过『标签』进行查找，发现对您有帮助的片段。
* 点击右上角的 [新片段](新片段)，你可以新建自己的片段，编辑时可以实时预览。
* 完成编辑后，点击『保存』按钮，页面提示输入一个有意义的标题（方便后续查找），会生成一个永久链接，以便分享和查看。
* 片段可以持续修改维护，另外左上角可以直接『编辑标题』。
* 片段页面左上角点击图标 `i` 可以查看详细信息以及**添加标签**，合适的标签可以让好片段更容易被发现。
* 点击顶部菜单的 ☆ 可以收藏片段，你可以在 个人页面 找到你收藏和创建的片段。


## 代码书写约定

### 加载 npm 模块

片儿可以使用`require` 和 `import` 加载 npm 上面的模块，写法如下：


	import cui from 'cnui';                      // 引入整体模块
	import { Button } from 'cn-mobile';         // 引入子模块
	import { Button } from 'cnui/dist/antd.min';  // 引入内部文件
	import { Button } from 'cnui@^1.7.0';         // 使用 @ 指定模块版本，版本号遵循 semver 语义化版本
	import 'cnui-mobile/dist/cnui-mobile.css';    // 引入样式
	import 'cnui^1.7.0/dist/antd.css';            // 引入具体版本的样式

### 内建全局变量

以下为内建全局变量，无需手动加载。

* `React`
* `ReactDOM`
* `mountNode`：用于挂载的预设 dom 节点，其 id 也为 mountNode。

### npm 模块加载原理

**片儿 可以使用 require 和 import 加载 npm 上面的模块（如 jQuery、antd、moment、immutable 等等）**，原理是利用了 [npmcdn](npmcdn) 服务，将模块名解析为 npmcdn 上的路径，并动态加载进来。

	import G2 from 'g2';        // 将加载 http://npmcdn.alibaba-inc.com/g2
	import G2 from 'g2@~1.2.3'; // 将加载 http://npmcdn.alibaba-inc.com/g2@~1.2.3


然后进行读取解析文件，**满足 UMD 规范的文件格式才能解析正确**。因为 npm 上并不是所有包都提供 UMD 打包的文件，所以无法支持所有 npm 模块。

另外，有些模块提供了 UMD 格式的打包文件，但未指定为主文件，需要手动指定路径。你可以到[npmcdn.alibaba-inc.com](npmcdn.alibaba-inc.com) 下找一下 UMD 文件的路径。

	import Redux from 'redux';            // 会失败，因为主文件不是 UMD 格式
	import Redux from 'redux/dist/redux'; // UMD 格式文件的路径是 dist/redux.js

为了使用方便，`片儿` 将部分常用模块的 UMD 路径进行了内置转换处理，你可以直接 import。包括下列模块，如果你需要加入其他模块的转换支持，可以联系我们。

## 常见问题

* **为什么有些模块用 `require` 或 `import` 加载不到?**

  参见上文的 npm 模块加载原理。
  
* **我收藏的页面到哪里去找？**

  点击右上角的个人头像。
   
* **支持多文件么？**

  暂时不支持，现阶段会专注于 `中/短` 长度的代码片段，不针对大型项目。
  
* **如何添加自定义的标签？**

  为保证片段的标签格式统一，减少嘈杂信息，方便查找，目前只有管理员可以添加标签。如果你列表里没有你需要的标签，可以联系我们。
  
* **为什么别人可以修改我的片段？**

  我们推崇社区共同维护的方式，人人皆可修改。针对个别人胡乱更改的行为，后续会增加历史版本功能，以便排查和恢复。
  
* **为什么叫 片儿？**
  
## 交流与反馈

有任何使用问题和建议，欢迎通过以下的方式联系我们

* 开发人员和管理员：[@宾翊](@宾翊) [@柳翎](@柳翎)